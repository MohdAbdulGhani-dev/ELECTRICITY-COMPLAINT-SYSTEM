<!--
<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Electricity Complaint Management</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }body {
  display: flex;
  height: 100vh;
  background-color: #f2f5f9;
}

/* Sidebar */
.sidebar {
  width: 240px;
  background-color: #ffffff;
  padding: 20px;
  border-right: 1px solid #ddd;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
}

.sidebar h2 {
  font-size: 20px;
  margin-bottom: 30px;
  color: #1a202c;
  text-align: center;
  font-weight: 600;
}

.nav-link {
  margin-bottom: 20px;
  display: block;
  color: #2d3748;
  text-decoration: none;
  font-size: 15px;
}

.nav-link:hover {
  color: #3182ce;
  background-color: #f0f4f8;
  padding: 8px 12px;
  border-radius: 6px;
}

.nav-link.active {
    font-weight: bold;
    background-color: #edf2f7;
    padding: 8px 12px;
    border-radius: 6px;
}
.nav-link i {
    margin-right: 8px;
}
.complaint-form {
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
  max-width: 500px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.complaint-form label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
  color: #2d3748;
}

.complaint-form input,
.complaint-form select,
.complaint-form textarea {
  width: 100%;
  padding: 10px 12px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 14px;
}

.complaint-form button {
  background-color: #3182ce;
  color: white;
  padding: 10px 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
}

.complaint-form button:hover {
  background-color: #2b6cb0;
}

/* Main Layout */
.main {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Header */
.header {
  background-color: #ffffff;
  padding: 15px 30px;
  border-bottom: 1px solid #ddd;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.header-title {
  font-size: 20px;
  font-weight: bold;
  color: #2d3748;
}

.search-box input {
  padding: 8px 14px;
  border: 1px solid #ccc;
  border-radius: 8px;
  width: 220px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.2s;
}

.search-box input:focus {
  outline: none;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
}
/* Footer Placeholder */
.main-content {
  padding: 250px;
  color: #718096;
  padding: 20px;
  
}

  </style>
</head>
<body>
  #<-- Sidebar --
  <div class="sidebar">
    <h2>Electricity Complaint Management</h2>
   #<-- <a href="#" class="nav-link active">Dashboard</a>
    <a href="#" class="nav-link">Profile</a>
    <a href="#" class="nav-link">File Complaint</a>
    <a href="#" class="nav-link">Complaint History</a>
    <a href="#" class="nav-link active">Track Status</a>
    #<a href="#" class="nav-link">Settings</a>--
    <a href="#" class="nav-link active"><i class="fas fa-home"></i> Dashboard</a>
    <a href="#" class="nav-link"><i class="fas fa-user"></i> Profile</a>
    <a href="#" class="nav-link" id="fileComplaintLink"><i class="fas fa-file-alt"></i> File Complaint</a>
    <a href="#" class="nav-link active"><i class="fas fa-history"></i> Complaint History</a>
    <a href="#" class="nav-link"><i class="fas fa-map-marker-alt"></i> Track Status</a>
    <a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a>
  
  </div>  #<-- Main Area --  
  <div class="main">
    #<-- Header --
    <div class="header">
      <div class="header-title">Dashboard</div>
      <div class="search-box">
        <input type="text" placeholder="Search..." />
      </div>
    </div> //<-- Content Placeholder --
    
    <div class="main-content">
  // Dashboard content will be added here 
        <div id="fileComplaintSection"style="display: none;">
         <h2 style="margin-bottom: 20px; color: #2d3748;">File a Complaint</h2>

          <form class="complaint-form">
            <label for="name">Your Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>

            <label for="ucs">UCS Number</label>
            <input type="text" id="ucs" name="ucs" placeholder="Enter 10-digit UCS number" maxlength="10" pattern="\d{10}" required>

            <label for="contact">Contact Number</label>
            <input type="text" id="contact" name="contact" placeholder="Enter 10-digit phone number" maxlength="10" pattern="\d{10}" required>

            <label for="location">Location</label>
            <input type="text" id="location" name="location" placeholder="Enter your location" required>

            <label for="type">Complaint Type</label>
            <select id="type" name="type" required>
                <option value="">-- Select a type --</option>
                <option value="power-cut">Power Cut</option>
                <option value="voltage-issue">Voltage Issue</option>
                <option value="meter-problem">Meter Problem</option>
                <option value="other">Other</option>
            </select>

            <label for="description">Description</label>
            <textarea id="description" name="description" rows="4" placeholder="Describe the issue" required></textarea>

            <button type="submit">Submit Complaint</button>
          </form>
    
        </div>
    </div>

</div>
  <script>
    const fileComplaintLink = document.getElementById("fileComplaintLink");
    const fileComplaintSection = document.getElementById("fileComplaintSection");
  
    fileComplaintLink.addEventListener("click", function (e) {
      e.preventDefault();
      
      // Hide all sections if you have more later
      document.querySelectorAll('.main-content > div').forEach(div => div.style.display = "none");
      
      // Show file complaint section
      fileComplaintSection.style.display = "block";
    });
  </script>
</body>
</html>
-->




<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Electricity Complaint Management</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }body {
  display: flex;
  height: 100vh;
  background-color: #f2f5f9;
}

/* Sidebar */
.sidebar {
  width: 240px;
  background-color: #ffffff;
  padding: 20px;
  border-right: 1px solid #ddd;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05);
}

.sidebar h2 {
  font-size: 20px;
  margin-bottom: 30px;
  color: #1a202c;
  text-align: center;
  font-weight: 600;
}

.nav-link {
  margin-bottom: 20px;
  display: block;
  color: #2d3748;
  text-decoration: none;
  font-size: 15px;
}

.nav-link:hover {
  color: #3182ce;
  background-color: #f0f4f8;
  padding: 8px 12px;
  border-radius: 6px;
}

.nav-link.active {
    font-weight: bold;
    background-color: #edf2f7;
    padding: 8px 12px;
    border-radius: 6px;
}
.nav-link i {
    margin-right: 8px;
}
.complaint-form {
  background: #ffffff;
  padding: 20px;
  border-radius: 10px;
  max-width: 500px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.complaint-form label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
  color: #2d3748;
}

.complaint-form input,
.complaint-form select,
.complaint-form textarea {
  width: 100%;
  padding: 10px 12px;
  margin-bottom: 15px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 14px;
}

.complaint-form button {
  background-color: #3182ce;
  color: white;
  padding: 10px 16px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 14px;
}

.complaint-form button:hover {
  background-color: #2b6cb0;
}

/* Main Layout */
.main {
  flex: 1;
  display: flex;
  flex-direction: column;
}

/* Header */
.header {
  background-color: #ffffff;
  padding: 15px 30px;
  border-bottom: 1px solid #ddd;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
}

.header-title {
  font-size: 20px;
  font-weight: bold;
  color: #2d3748;
}

.search-box input {
  padding: 8px 14px;
  border: 1px solid #ccc;
  border-radius: 8px;
  width: 220px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.2s;
}

.search-box input:focus {
  outline: none;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
}
/* Footer Placeholder */
.main-content {
  padding: 250px;
  color: #718096;
  padding: 20px;
  
}

.complaint-table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
}

.complaint-table th, .complaint-table td {
  border: 1px solid #ccc;
  padding: 10px;
  text-align: left;
}

.complaint-table th {
  background-color: #f4f4f4;
  color: #333;
}

.track-form {
  display: flex;
  flex-direction: column;
  max-width: 400px;
}

.track-form input, .track-form button {
  padding: 10px;
  margin-bottom: 10px;
}

.profile-form {
  display: flex;
  flex-direction: column;
  max-width: 400px;
}

.profile-form input, .profile-form button {
  padding: 10px;
  margin-bottom: 10px;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  background-color: #f4f4f4;
}

.sidebar {
  width: 220px;
  background-color: #2c3e50;
  color: #ecf0f1;
  height: 100vh;
  position: fixed;
  padding: 20px;
}

.sidebar h2 {
  font-size: 20px;
  margin-bottom: 30px;
  text-align: center;
}

.sidebar .nav-link {
  display: block;
  color: #ecf0f1;
  padding: 10px 15px;
  margin-bottom: 10px;
  border-radius: 8px;
  text-decoration: none;
  transition: background-color 0.2s;
}

.sidebar .nav-link:hover,
.sidebar .nav-link.active {
  background-color: #34495e;
}

.main {
  margin-left: 220px;
  padding: 20px;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #ffffff;
  padding: 15px 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}

.header-title {
  font-size: 24px;
  color: #2c3e50;
  font-weight: 600;
}

.search-box input {
  padding: 8px 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
}

form {
  background: #ffffff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  max-width: 500px;
}

form label {
  margin-top: 10px;
  font-weight: 500;
  color: #333;
}

form input,
form select,
form textarea {
  margin-top: 5px;
  margin-bottom: 15px;
  padding: 10px;
  border: 1px solid #ccc;
  border-radius: 8px;
  width: 100%;
  box-sizing: border-box;
}

form button {
  padding: 10px;
  background-color: #2c3e50;
  color: #fff;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: background-color 0.2s;
}

form button:hover {
  background-color: #1a252f;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 15px;
  background: #fff;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
}

th, td {
  padding: 12px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}

th {
  background-color: #2c3e50;
  color: #ecf0f1;
}
/* Toggle switch */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
  margin-left: 15px;
}
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.slider {
  position: absolute;
  cursor: pointer;
  background-color: #ccc;
  border-radius: 26px;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  transition: 0.4s;
}
.slider:before {
  position: absolute;
  content: "";
  height: 18px;
  width: 18px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
}
input:checked + .slider {
  background-color: #2c3e50;
}
input:checked + .slider:before {
  transform: translateX(24px);
}

/* Dark mode styles */
/* Dark mode styles */
body.dark-mode {
    background-color: #1e1e1e;
    color: #f0f0f0; /* Default text color in dark mode */
}

body.dark-mode .main,
body.dark-mode .header,
body.dark-mode form,
body.dark-mode table {
    background-color: #2a2a2a;
}

/* Ensure headings and specific text elements are light in dark mode */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode label,
body.dark-mode th,
body.dark-mode td,
body.dark-mode .header-title { /* Add specific elements as needed */
    color: #f0f0f0; /* Light text color */
}

body.dark-mode input,
body.dark-mode select,
body.dark-mode textarea {
    background-color: #444;
    color: #fff;
    border: 1px solid #666;
}
</style>
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Electricity Complaint Management</h2>
   <!-- <a href="#" class="nav-link active">Dashboard</a>
    <a href="#" class="nav-link">Profile</a>
    <a href="#" class="nav-link">File Complaint</a>
    <a href="#" class="nav-link">Complaint History</a>
    <a href="#" class="nav-link active">Track Status</a>
    <a href="#" class="nav-link">Settings</a>
  -->
    <a href="#" class="nav-link active"><i class="fas fa-home"></i> Dashboard</a>
    <a href="#" class="nav-link"><i class="fas fa-user"></i> Profile</a>
    <a href="#" class="nav-link" id="fileComplaintLink"><i class="fas fa-file-alt"></i> File Complaint</a>
    <a href="#" class="nav-link " id="complaintHistoryLink"><i class="fas fa-history"></i> Complaint History</a>
    <a href="#" class="nav-link"><i class="fas fa-map-marker-alt"></i> Track Status</a>
    <a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a>
  
  </div>  <!-- Main Area -->  
  <div class="main">
    <!-- Header -->
    <div class="header">
      <div class="header-title">Dashboard</div>
      <div class="search-box">
        <input type="text" placeholder="Search..." />
      </div>
      <div class="dark-mode-toggle">
        <label class="switch">
          <input type="checkbox" id="darkModeSwitch">
          <span class="slider round"></span>
        </label>
      </div>
    </div><!-- Content Placeholder -->
    
    <div class="main-content">
  <!-- Dashboard content will be added here -->
        <div id="fileComplaintSection"style="display: none;">
         <h2 style="margin-bottom: 20px; color: #a3b9df;">File a Complaint</h2>

          <form class="complaint-form">
            <label for="name">Your Name</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>

            <label for="ucs">UCS Number</label>
            <input type="text" id="ucs" name="ucs" placeholder="Enter 10-digit UCS number" maxlength="10" pattern="\d{10}" required>

            <label for="contact">Contact Number</label>
            <input type="text" id="contact" name="contact" placeholder="Enter 10-digit phone number" maxlength="10" pattern="\d{10}" required>

            <label for="location">Location</label>
            <input type="text" id="location" name="location" placeholder="Enter your location" required>

            <label for="type">Complaint Type</label>
            <select id="type" name="type" required>
                <option value="">-- Select a type --</option>
                <option value="power-cut">Power Cut</option>
                <option value="voltage-issue">Voltage Issue</option>
                <option value="meter-problem">Meter Problem</option>
                <option value="other">Other</option>
            </select>

            <label for="description">Description</label>
            <textarea id="description" name="description" rows="4" placeholder="Describe the issue" required></textarea>

            <button type="submit">Submit Complaint</button>
          </form>
    
        </div>
    </div>
<!-- Complaint History Section (Initially Hidden) -->
<div id="complaintHistorySection" style="display: none;">
  <h2>Complaint History</h2>
  <table>
    <thead>
      <tr>
        <th>Complaint ID</th>
        <th>Complaint Type</th>
        <th>Complaint Description</th>
        <th>Date</th>
        <th>Time</th>
        <th>Status</th>
        <th>ViewLog</th>
      </tr>
    </thead>
    <tbody id="complaintTableBody">
      <!-- Rows from Excel will go here -->
    </tbody>
  </table>
</div>
<!-- Track Status Section (Initially Hidden) -->
<div id="trackStatusSection" style="display: none;">
  <h2 style="margin-bottom: 20px; color: #2d3748;">Track Complaint Status</h2>
  
  <form class="track-form">
    <label for="trackId">Complaint ID</label>
    <input type="text" id="trackId" name="trackId" placeholder="Enter your Complaint ID" required>

    <button type="submit">Track</button>
  </form>

  <div id="statusResult" style="margin-top: 20px; display: none;">
    <strong>Status:</strong> <span id="statusText">Pending</span>
  </div>
</div>
<!-- Profile Section (Initially Hidden) -->
<div id="profileSection" style="display: none;">
  <h2 style="margin-bottom: 20px; color: #2d3748;">User Profile</h2>

  <form class="profile-form">
    <label for="profileName">Name :</label>
    <!-- <input type="text" id="profileName" name="profileName" value="John Doe"> -->

    <label for="profileEmail :">Email :</label> 
    <!-- <label value="john@example.com"></label> -->

    <label for="profilePhone">Contact Number :</label>
    <!-- <input type="text" id="profilePhone" name="profilePhone" value="9876543210" maxlength="10"> -->

    <label for="profileLocation">Location :</label>
    <!-- <input type="text" id="profileLocation" name="profileLocation" value="New Delhi"> -->

    
    
    <button type="submit">Edit</button>
  </form>
</div>

</div>
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const fileComplaintSection = document.getElementById("fileComplaintSection");
    const complaintHistorySection = document.getElementById("complaintHistorySection");
const trackStatusSection = document.getElementById("trackStatusSection");

const profileSection = document.getElementById("profileSection");
    document.querySelectorAll(".nav-link").forEach(link => {
      link.addEventListener("click", function (e) {
        e.preventDefault();

        // Hide both sections first
        fileComplaintSection.style.display = "none";
        complaintHistorySection.style.display = "none";
        trackStatusSection.style.display = "none";

         profileSection.style.display = "none";
        // Show the selected one
        if (this.textContent.includes("File Complaint")) {
          fileComplaintSection.style.display = "block";
        } else if (this.textContent.includes("Complaint History")) {
          complaintHistorySection.style.display = "block";
        }else if (this.textContent.includes("Track Status")) {
  trackStatusSection.style.display = "block";
} else if (this.textContent.includes("Profile")) {
  profileSection.style.display = "block";
}

document.querySelector(".track-form").addEventListener("submit", function (e) {
  e.preventDefault();
  const id = document.getElementById("trackId").value;

  // Fake status logic
  const status = id === "12345" ? "Resolved" : "Pending";

  document.getElementById("statusText").textContent = status;
  document.getElementById("statusResult").style.display = "block";
});
      });
    });
  });
</script>
  <script>
    document.getElementById('darkModeSwitch').addEventListener('change', function () {
    document.body.classList.toggle('dark-mode');
    });
  </script>
  <script>
    // JS to load Complaint History from Excel
    document.getElementById('complaintHistoryLink').addEventListener('click', function () {
      document.getElementById('fileComplaintSection').style.display = 'none';
      document.getElementById('complaintHistorySection').style.display = 'block';
    
      // Fetch data from Flask
      fetch('/get_complaints')
        .then(response => response.json())
        .then(data => {
          const tableBody = document.getElementById('complaintTableBody');
          tableBody.innerHTML = '';
          data.forEach(row => {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${row["Complaint ID"]}</td>
              <td>${row["Complaint Type"]}</td>
              <td>${row["Complaint Description"]}</td>
              <td>${row["Date"]}</td>
              <td>${row["Time"]}</td>
              <td>${row["Status"]}</td>
              <td>${row["ViewLog"]}</td>
            `;
            tableBody.appendChild(tr);
          });
        });
    });
    </script>
</body>
</html> 